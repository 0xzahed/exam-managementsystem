var p=(r,i)=>()=>(i||r((i={exports:{}}).exports,i),i.exports);var h=p((y,l)=>{document.addEventListener("DOMContentLoaded",function(){const r=document.getElementById("profileForm");r&&r.addEventListener("submit",function(e){const t=document.getElementById("first_name").value.trim(),o=document.getElementById("last_name").value.trim(),s=document.getElementById("email").value.trim();if(!t||!o||!s){e.preventDefault(),showError("Please fill in all required fields");return}if(!g(s)){e.preventDefault(),showError("Please enter a valid email address");return}const n=this.querySelector('button[type="submit"]');n&&(n.disabled=!0,n.innerHTML='<i class="fas fa-spinner fa-spin mr-2"></i>Saving...')});const i=document.getElementById("passwordForm");if(i){i.addEventListener("submit",function(o){const s=document.getElementById("current_password").value,n=document.getElementById("new_password").value,w=document.getElementById("new_password_confirmation").value;if(!s||!n||!w){o.preventDefault(),showError("Please fill in all password fields");return}if(n!==w){o.preventDefault(),showError("New passwords do not match");return}if(n.length<8){o.preventDefault(),showError("Password must be at least 8 characters long");return}const c=this.querySelector('button[type="submit"]');c&&(c.disabled=!0,c.innerHTML='<i class="fas fa-spinner fa-spin mr-2"></i>Updating...')});const e=document.getElementById("new_password"),t=document.getElementById("new_password_confirmation");e&&t&&t.addEventListener("input",function(){const o=e.value,s=this.value,n=document.getElementById("password-match-message");n&&(s&&o!==s?(n.textContent="Passwords do not match",n.className="text-sm text-red-600 mt-1"):s&&o===s?(n.textContent="Passwords match",n.className="text-sm text-green-600 mt-1"):n.textContent="")})}const d=document.getElementById("profile_picture"),u=document.getElementById("profile-preview");d&&u&&d.addEventListener("change",function(e){const t=e.target.files[0];if(t){if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(t.type)){showError("Please select a valid image file (JPG, PNG, or GIF)"),this.value="";return}if(t.size>5*1024*1024){showError("Image file size must be less than 5MB"),this.value="";return}const s=new FileReader;s.onload=function(n){u.src=n.target.result},s.readAsDataURL(t)}});const a=document.getElementById("bio");if(a){let e;a.addEventListener("input",function(){clearTimeout(e),e=setTimeout(()=>{localStorage.setItem("instructor_bio_draft",this.value)},1e3)});const t=localStorage.getItem("instructor_bio_draft");t&&!a.value&&(a.value=t),document.querySelectorAll("form").forEach(s=>{s.addEventListener("submit",function(){localStorage.removeItem("instructor_bio_draft")})})}const m=document.getElementById("phone");m&&m.addEventListener("input",function(){let e=this.value.replace(/\D/g,"");e.length>=6?e=`(${e.slice(0,3)}) ${e.slice(3,6)}-${e.slice(6,10)}`:e.length>=3&&(e=`(${e.slice(0,3)}) ${e.slice(3)}`),this.value=e});const f=document.getElementById("department");if(f&&f.addEventListener("change",function(){const e=this.value;console.log("Department changed to:",e)}),new URLSearchParams(window.location.search).get("success")){const e=document.querySelector('meta[name="session-success"]'),t=e?e.getAttribute("content"):"Profile updated successfully!";window.notificationManager?window.notificationManager.show(t,"success"):setTimeout(()=>{window.notificationManager?window.notificationManager.show(t,"success"):showSuccess(t)},100),window.history.replaceState({},document.title,window.location.pathname)}});function g(r){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)}typeof l<"u"&&l.exports&&(l.exports={isValidEmail:g,showError,showSuccess})});export default h();
