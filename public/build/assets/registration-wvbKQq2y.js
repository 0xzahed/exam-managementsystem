document.addEventListener("DOMContentLoaded",function(){const m=document.querySelectorAll(".role-card"),o=document.getElementById("selectedRole"),l=document.getElementById("idField"),u=document.getElementById("idLabel"),t=document.getElementById("userId"),r=document.getElementById("student_id"),c=document.getElementById("employee_id"),i=document.getElementById("roleError"),a=o?.value;if(a){const e=document.querySelector(`[data-role="${a}"]`);e&&(e.classList.add("selected"),f(a))}m.forEach(e=>{e.addEventListener("click",function(){m.forEach(L=>L.classList.remove("selected")),this.classList.add("selected");const n=this.getAttribute("data-role");o&&(o.value=n),i&&i.classList.add("hidden"),f(n)})});function f(e){!l||!u||!t||(e==="student"?(u.textContent="Student ID",t.placeholder="221-15-4716",t.setAttribute("required",""),l.classList.remove("hidden")):e==="instructor"?(u.textContent="Employee ID",t.placeholder="EMP-12345",t.setAttribute("required",""),l.classList.remove("hidden")):(l.classList.add("hidden"),t.removeAttribute("required")))}t&&t.addEventListener("input",function(){const e=o?.value;e==="student"&&r?(r.value=this.value,c&&(c.value="")):e==="instructor"&&c&&(c.value=this.value,r&&(r.value=""))});const v=document.getElementById("togglePassword"),s=document.getElementById("password");v&&s&&v.addEventListener("click",function(){const e=s.getAttribute("type")==="password"?"text":"password";s.setAttribute("type",e);const n=this.querySelector("i");n&&(n.classList.toggle("fa-eye"),n.classList.toggle("fa-eye-slash"))});const y=document.getElementById("registrationForm"),E=document.getElementById("submitBtn"),g=document.getElementById("submitText"),I=document.getElementById("submitLoader");y&&y.addEventListener("submit",function(e){if(!o?.value)return e.preventDefault(),i&&(i.classList.remove("hidden"),i.scrollIntoView({behavior:"smooth"})),!1;g&&(g.textContent="Creating Account..."),I&&I.classList.remove("hidden"),E&&(E.disabled=!0)});const d=document.getElementById("password_confirmation");if(s&&d){let e=function(){d.value&&s.value!==d.value?d.setCustomValidity("Passwords do not match"):d.setCustomValidity("")};var p=e;s.addEventListener("input",e),d.addEventListener("input",e)}});
